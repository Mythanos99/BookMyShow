<div class="container mt-5">
    <div class="card">
      <div class="card-body">
        <h2>Hi, {{ profileForm.get('personal_details.name')?.value || 'Guest' }}</h2>
  
        <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
          
          <!-- Personal Details -->
          <div class="form-group">
            <h4 class="mt-4">Personal Details</h4>
            <div class="row">
              <div class="col-md-6">
                <label for="username">Username</label>
                <input
                  matInput
                  formControlName="username"
                  class="form-control"
                  placeholder="Enter your username"
                />
              </div>
              <div class="col-md-6">
                <label for="mobile_no">Mobile Number</label>
                <input
                  matInput
                  formControlName="mobile_no"
                  class="form-control"
                  placeholder="Enter your mobile number"
                />
                <div
                  *ngIf="profileForm.get('mobile_no')?.invalid && profileForm.get('mobile_no')?.touched"
                  class="text-danger"
                >
                  Please enter a valid 10-digit mobile number.
                </div>
              </div>
            </div>
  
            <div class="row mt-3">
              <div class="col-md-6">
                <label for="name">Name</label>
                <input
                  matInput
                  formControlName="personal_details.name"
                  class="form-control"
                  placeholder="Enter your name"
                />
                <div
                  *ngIf="profileForm.get('personal_details.name')?.invalid && profileForm.get('personal_details.name')?.touched"
                  class="text-danger"
                >
                  Name is required.
                </div>
              </div>
              <div class="col-md-6">
                <label for="dob">Date of Birth</label>
                <input
                  matInput
                  formControlName="personal_details.dob"
                  class="form-control"
                  type="date"
                />
                <div
                  *ngIf="profileForm.get('personal_details.dob')?.invalid && profileForm.get('personal_details.dob')?.touched"
                  class="text-danger"
                >
                  Date of Birth is required.
                </div>
              </div>
            </div>
          </div>
  
          <!-- Address Details -->
          <div class="form-group">
            <h4 class="mt-4">Address Details</h4>
            <div class="row">
              <div class="col-md-6">
                <label for="houseno">House Number</label>
                <input
                  matInput
                  formControlName="address.houseno"
                  class="form-control"
                  placeholder="Enter your house number"
                />
              </div>
              <div class="col-md-6">
                <label for="street">Street</label>
                <input
                  matInput
                  formControlName="address.street"
                  class="form-control"
                  placeholder="Enter your street"
                />
              </div>
            </div>
  
            <div class="row mt-3">
              <div class="col-md-6">
                <label for="city">City</label>
                <input
                  matInput
                  formControlName="address.city"
                  class="form-control"
                  placeholder="Enter your city"
                />
              </div>
              <div class="col-md-6">
                <label for="state">State</label>
                <input
                  matInput
                  formControlName="address.state"
                  class="form-control"
                  placeholder="Enter your state"
                />
              </div>
            </div>
  
            <div class="row mt-3">
              <div class="col-md-6">
                <label for="pincode">Pincode</label>
                <input
                  matInput
                  formControlName="address.pincode"
                  class="form-control"
                  placeholder="Enter your pincode"
                />
                <div
                  *ngIf="profileForm.get('address.pincode')?.invalid && profileForm.get('address.pincode')?.touched"
                  class="text-danger"
                >
                  Please enter a valid 6-digit pincode.
                </div>
              </div>
            </div>
          </div>
  
          <!-- Form Buttons -->
          <div class="form-group mt-4">
            <button type="submit" class="btn btn-primary" [disabled]="profileForm.invalid">Save</button>
            <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
          </div>
        </form>
      </div>
    </div>
  </div>